<!DOCTYPE html>
<html>
<head>
 <meta charset="utf-8">
<title>Education-Category wise populatio</title>
<style>
.arc text {
font: 10px sans-serif;
text-anchor: middle;
}

.arc path {
stroke: #fff;
}
.legend {
      font-size: 12px;
}
h2{
  margin-left: 600px;
}
</style>
</head>
<body>
  <h2>Total population education-category wise</h2>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8">
</script>
<script>

  var width = 1200,
  height = 500,
  radius = Math.min(width, height) / 2;
  var legendRectSize = 18;
  var legendSpacing = 12;

var color = d3.scale.ordinal()
  .range(["#006666", "#FF0033", "#FFFF00", "#FF99CC", "#D0743C", "#FF8C00", "666666", "pink", "green", ]);

var arc = d3.svg.arc()
  .outerRadius(radius - 10)
  .innerRadius(0);

var pie = d3.layout.pie()
  .value(function(d) { return d.Population; });

var svg = d3.select("body").append("svg")
  .attr("width", width)
  .attr("height", height)
  .append("g")
  .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

d3.json("./../json/third_json.json",function(error, data) {
if (error) throw error;
data.forEach(function (d) {
d.Population =+d.Population;
return d;
});


var g = svg.selectAll(".arc")
    .data(pie(data))
  .enter().append("g")
    .attr("class", "arc");

g.append("path")
    .attr("d", arc)
    .style("fill", function(d) { return color(d.data.Education_category); });

var legend = svg.selectAll('.legend')
        .data(color.domain())
        .enter()
        .append('g')
        .attr('class', 'legend')
        .attr('transform', function(d, i) {
          var height = legendRectSize + legendSpacing;
          var offset =  height * color.domain().length / 2;
          var horz = 14 * legendRectSize;
          var vert = i * height - offset;
          return 'translate(' + horz + ',' + vert + ')';
        });

      legend.append('rect')
        .attr('width', legendRectSize)
        .attr('height', legendRectSize)
        .style('fill', color)
        .style('stroke', color);
      legend.append('text')
        .attr('x', legendRectSize + legendSpacing)
        .attr('y', legendRectSize - legendSpacing)
        .text(function(d) { return d; });

});


</script>
<body>
</body>
<html>
